{% extends "mainbase.html" %}
{% load staticfiles %}
{% block content %}
	<section>
		<div class="wp">
			<div class="crumbs">
				<ul>
					<li><a href="http://localhost:8080/main/">首页</a>></li>
					<li><a href="http://localhost:8080/courselist/">公开课程</a>></li>
					<li>课程详情</li>
				</ul>
			</div>
		</div>
	</section>
    <section>
	<div class="wp">
		<div class="groupPurchase_detail detail">
			<div class="toppro" id="mysource">
				
			</div>
		</div>
	</div>
</section>
    <section>
	<div class="wp">
		<div class="list groupPurchase_detail_pro">
			<div class="left layout">
				<div class="head">
					<ul class="tab_header">
						<li class="active">课程详情</li>
					</ul>
				</div>
				<div class="tab_cont tab_cont1">
                    
					<p>&nbsp; &nbsp; django与vuejs实战项目</p><p><img src="../static/images/media/courses/ueditor/aobama_20161113225044_773.png" title="" alt="aobama.png"/> </p><table><tbody><tr class="firstRow"><td style="word-break: break-all;" width="53" valign="top">课程</td><td style="word-break: break-all;" width="53" valign="top">课时<br/> </td><td style="word-break: break-all;" width="53" valign="top">难度<br/> </td><td style="word-break: break-all;" width="53" valign="top">时长<br/> </td><td style="word-break: break-all;" width="53" valign="top">学习人数<br/> </td><td style="word-break: break-all;" width="53" valign="top">点击数<br/> </td><td style="word-break: break-all;" width="53" valign="top">点击数</td><td style="word-break: break-all;" width="53" valign="top">点击数</td></tr><tr><td style="word-break: break-all;" width="53" valign="top">django开发<br/> </td><td style="word-break: break-all;" width="53" valign="top">20<br/> </td><td style="word-break: break-all;" width="53" valign="top">中级<br/> </td><td style="word-break: break-all;" width="53" valign="top">30<br/> </td><td style="word-break: break-all;" width="53" valign="top">100000<br/> </td><td style="word-break: break-all;" width="53" valign="top">100000<br/> </td><td style="word-break: break-all;" width="53" valign="top">100000<br/> </td><td style="word-break: break-all;" width="53" valign="top">100000<br/> </td></tr><tr><td width="53" valign="top"><br/> </td><td width="53" valign="top"><br/> </td><td width="53" valign="top"><br/> </td><td width="53" valign="top"><br/> </td><td width="53" valign="top"><br/> </td><td width="53" valign="top"><br/> </td><td width="53" valign="top"><br/> </td><td width="53" valign="top"><br/> </td></tr><tr><td width="53" valign="top"><br/> </td><td width="53" valign="top"><br/> </td><td width="53" valign="top"><br/> </td><td width="53" valign="top"><br/> </td><td width="53" valign="top"><br/> </td><td width="53" valign="top"><br/> </td><td width="53" valign="top"><br/> </td><td width="53" valign="top"><br/> </td></tr><tr><td width="53" valign="top"><br/> </td><td width="53" valign="top"><br/> </td><td width="53" valign="top"><br/> </td><td width="53" valign="top"><br/> </td><td width="53" valign="top"><br/> </td><td width="53" valign="top"><br/> </td><td width="53" valign="top"><br/> </td><td width="53" valign="top"><br/> </td></tr><tr><td width="53" valign="top"><br/> </td><td width="53" valign="top"><br/> </td><td width="53" valign="top"><br/> </td><td width="53" valign="top"><br/> </td><td width="53" valign="top"><br/> </td><td width="53" valign="top"><br/> </td><td width="53" valign="top"><br/> </td><td width="53" valign="top"><br/> </td></tr></tbody></table><p><br/> </p><p><img src="http://img.baidu.com/hi/jx2/j_0025.gif"/> </p><p><br/> </p><h1 class="ue_t" label="Title center" name="tc" style="border-bottom-color:#cccccc;border-bottom-width:2px;border-bottom-style:solid;padding:0px 4px 0px 0px;text-align:center;margin:0px 0px 20px;"><span style="color:#c0504d;">[键入文档标题]</span></h1><p style="text-align:center;"><strong class="ue_t">[键入文档副标题]</strong></p><h3><span class="ue_t" style="font-family:幼圆">[标题 1]</span></h3><p class="ue_t" style="text-indent:2em;">对于“插入”选项卡上的库，在设计时都充分考虑了其中的项与文档整体外观的协调性。 您可以使用这些库来插入表格、页眉、页脚、列表、封面以及其他文档构建基块。 您创建的图片、图表或关系图也将与当前的文档外观协调一致。</p><p class="ue_t" style="text-indent:2em;"><img src="http://127.0.0.1:8000../media/courses/ueditor/57aa86a0000145c512000460_20161210234050_865.jpg" title="" alt="57aa86a0000145c512000460.jpg"/> </p><h3><span class="ue_t" style="font-family:幼圆">[标题 2]</span></h3><p><img src="http://api.map.baidu.com/staticimage?center=116.410899,39.863624&zoom=11&width=530&height=340&markers=116.404,39.915" width="530" height="340"/> </p><p class="ue_t" style="text-indent:2em;">在“开始”选项卡上，通过从快速样式库中为所选文本选择一种外观，您可以方便地更改文档中所选文本的格式。 您还可以使用“开始”选项卡上的其他控件来直接设置文本格式。大多数控件都允许您选择是使用当前主题外观，还是使用某种直接指定的格式。</p><h3><span class="ue_t" style="font-family:幼圆">[标题 3]</span></h3><p>2016-12-10</p><p class="ue_t">对于“插入”选项卡上的库，在设计时都充分考虑了其中的项与文档整体外观的协调性。 您可以使用这些库来插入表格、页眉、页脚、列表、封面以及其他文档构建基块。 您创建的图片、图表或关系图也将与当前的文档外观协调一致。</p><p><br/> </p>
                    
				</div>
				<div class="tab_cont tab_cont2" >
					<div class="comment">
						<div class="comenlist">

	                    </div>
					</div>
				</div>
			</div>
			<div class="right layout">
				<div class="head">相关课程推荐</div>
                <div class="group_recommend">
                    
                        <dl>
                            <dt>
                                <a target="_blank" href="">
                                    <img width="240" height="220" class="scrollLoading" src="../static/images/media/courses/2016/11/540e57300001d6d906000338-240-135_mvvGYHL.jpg"/>
                                </a>
                            </dt>
                            <dd>
                                <a target="_blank" href=""><h2> django实战项目</h2></a>
                                <span class="fl">学习时长：<i class="key">0</i></span>
                            </dd>
                        </dl>
                    


                </div>
			</div>
		</div>
	</div>
</section>
{% endblock %}
{% block script %}
<script src="../static/js/selectUi.js" type='text/javascript'></script>
<script src="../static/js/deco-common.js" type='text/javascript'></script>
<script type="text/javascript" src="../static/js/plugins/laydate/laydate.js"></script>
<script src="../static/js/plugins/layer/layer.js"></script>
<script src="../static/js/plugins/queryCity/js/public.js" type="text/javascript"></script>
<script src="../static/js/unslider.js" type="text/javascript"></script>
<script src="../static/js/plugins/jquery.scrollLoading.js"  type="text/javascript"></script>
<script src="../static/js/deco-common.js"  type="text/javascript"></script>

<script type="text/javascript">
	//拿取前台传来的缓存值
    var username = JSON.parse(localStorage.getItem("logMsg"));
	console.log(username)
	var data = JSON.parse(localStorage.getItem("data"));
	if(data==""){
		layer.msg("没有该课程，请重新选择！")
		setTimeout(function(){
			window.location.href="http://localhost:8080/courselist/"
		},2000)

	}
	else{
		console.log(data)
        function localdata(){
			var objdata=data;
			var url="http://localhost:8080/coursedetailApi/";
			console.log(objdata)
					ajaxFn(url, objdata, function(data) {
						console.log(data)
						data=$.parseJSON(data)//将字符串转成JSON数据
						// // console.log(typeof data)
						mydata=data.data;
						console.log(mydata)
						dataParse(mydata);
					})

		}
		function dataParse(mydata){
			for(i=0;i<1;i++){          
				projectname=mydata[i]["projectname"];
				propicture=mydata[i]["propicture"];
				prodetail=mydata[i]["prodetail"];
				proteacher=mydata[i]["proteacher"];
				orgname=mydata[i]["orgname"];
				orgpicture=mydata[i]["orgpicture"];
				imgname = "http://localhost:8080/static/myfile/"+propicture;
				orgimgName = "http://localhost:8080/static/myfile/"+orgpicture;
				ele='<div class="left"><div class="picbox"><div class="tb-booth tb-pic"><img width="440" height="445" src="'+ imgname +'" class="jqzoom" /></div></div><div class="des"><h1 title="django 从入门到精通体验开始了">'+ projectname +'</h1><span class="key">'+ prodetail +'</span><div class="prize"><span class="fl">难度：<i class="key">高级</i></span><span class="fr">学习人数：12</span></div><ul class="parameter"><li><span class="pram word3">时&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;长：</span><span>0</span></li><li><span class="pram word3">章&nbsp;节&nbsp;数：</span><span>5</span></li><li><span class="pram word3">课程类别：</span><span title="">web开发/后端开发</span></li><li class="piclist"><span class="pram word4">授课讲师：'+ proteacher +'</span></li></ul><div class="btns"><div class="btn colectgroupbtn"  id="jsLeftBtn">收藏</div><div class="buy btn"><a style="color: white" class="startlearn" href="###">开始学习</a></div></div></div></div><div class="right"><div class="head"><h1>授课机构</h1><p>世界名校，课程权威</p></div><div class="pic"><a href="###"><img width="150" height="80" src="'+ orgimgName +'"/></a></div><a href="###"><h2 class="center" id="myorgnamexxx" title="清华大学">'+ orgname +'</h2></a><div class="btn  notlogin "data-favid="14" id="jsRightBtn">已收藏</div><div class="clear"><ul><li><span>课 &nbsp;程&nbsp; 数：&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   5</span></li><li><span>教 &nbsp;师&nbsp; 数：&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  0</span></li><li>所在地区：&nbsp;&nbsp;北京市</li><li>认&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;证&nbsp;:&nbsp;&nbsp;<img title="金牌机构", src="../static/images/gold.png"/></li></ul></div></div>';
				$("#mysource").append(ele)
				console.log(projectname,prodetail,imgname)
				
				}
				$("#myorgnamexxx").click(function(){
					console.log("2222222222222222222222")
					orgname=$(this).text();
					localStorage.setItem("orgname",JSON.stringify(orgname));
					window.location.href="http://localhost:8080/orgdetaildesc/"
				})
				$(".startlearn").click(function(){
					console.log($(this).text())
					var that=$(this).parents().text();
					console.log(that)
					projectname=$(that).children("des").text()
					console.log(projectname)
					console.log("....................");
					window.location.href="http://localhost:8080/procharpter/"
				})
			}
		function ajaxFn(urlString, postdata, fn) {
				var xmlhttp = new XMLHttpRequest();
				xmlhttp.onreadystatechange = function() {
					if(xmlhttp.readyState == 4 && xmlhttp.status == 200) {
						result = xmlhttp.responseText;
						console.log(result)
						fn(result);
					}
				}
				xmlhttp.open("POST", urlString, true);
				xmlhttp.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded')
				xmlhttp.send("data=" + postdata);
			}
		localdata()

	}
	
</script>
{% endblock %}